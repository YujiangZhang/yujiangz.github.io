import{d as g,r as D,B as v,y as R,m as _,o as l,c as i,a as o,t as h,F as B,j as E,e as d,w as y,T as P,l as k,g as c,u as x,k as f,n as $,E as I,C as L,D as N,G as T,H as V}from"./d5e74df0.js";import{A as S}from"./3dee8f48.js";import{D as j}from"./a1a6adc4.js";const A={key:0,class:"relative select-none"},F={class:"font-bold"},U=["onClick"],G={class:""},H=o("span",{class:"inline-block w-2 h-1 mx-1 mb-[.2em] rounded-full bg-sky-500"},null,-1),O={key:0,class:"absolute inset-0 h-full overflow-hidden bg-gray-100 rounded-md shadow-inner dark:bg-gray-600"},W=g({__name:"RelatedDocs",props:{dir:{}},setup(u){const t=D(null),n=e=>{t.value=e},p=v();R(()=>p.fullPath,()=>{L(()=>{n(null)})});const r=e=>{const s=e.lastChild;c.set(e,{opacity:0}),c.set(s,{y:-32})},C=e=>{const s=e.lastChild;c.to(e,{opacity:1,duration:.3}),c.to(s,{y:0,duration:.3,ease:"power2.out"})},b=(e,s)=>{const m=e.lastChild;c.to(e,{opacity:0,duration:.2,delay:.1,onComplete:s}),c.to(m,{y:-32,duration:.3,ease:"power2.out"})};return(e,s)=>{const m=_("RouterLink"),w=_("RelatedDocs",!0);return e.dir?(l(),i("div",A,[o("div",F,h(e.dir.name),1),o("ul",null,[(l(!0),i(B,null,E(e.dir.children,a=>(l(),i("li",{key:a.name,class:"truncate hover:text-sky-500"},[a.type==="dir"?(l(),i("div",{key:0,class:"p-1 cursor-pointer",onClick:M=>n(a)},[o("span",G,[d(x(j),{class:"inline-block w-4 text-sky-500"})]),f(" "+h(a.name),1)],8,U)):(l(),$(m,{key:1,to:a.url,class:"block p-1"},{default:y(()=>[H,f(" "+h(a.name),1)]),_:2},1032,["to"]))]))),128))]),d(P,{onBeforeEnter:r,onEnter:C,onLeave:b},{default:y(()=>[t.value?(l(),i("div",O,[o("div",{class:"py-1 text-xs font-bold cursor-pointer text-slate-400 hover:bg-sky-500",onClick:s[0]||(s[0]=a=>n(null))},[o("span",null,[d(x(I),{class:"inline-block w-6 h-6 rotate-180"})]),f(" "+h(e.dir.name),1)]),d(w,{dir:t.value,class:"h-[calc(100%-1.25rem)] mt-[-0.25rem] bg-gray-200 rounded-md scrollbar dark:bg-gray-700"},null,8,["dir"])])):k("",!0)]),_:1})])):k("",!0)}}});function q(u){const t=u.lastIndexOf("#");return t!==-1?u.slice(0,t)+".md":u+".md"}const z={class:"flex justify-center min-h-screen gap-8 mx-auto self-mode sm:px-4 md:px-8"},J={class:"sticky hidden max-h-screen top-16 md:block"},K=o("h2",{class:"py-1 font-bold"},"相关文档",-1),Z=g({__name:"ReadDoc",setup(u){const t=N({title:"",path:"",folder:null}),n=v();return T(async()=>{if(!n.fullPath.includes("/docs/")||n.fullPath=="/docs/catalog")return;const p=n.fullPath,r=decodeURIComponent(p);t.title=r.split("/").pop()||"",t.path=q(r),t.folder=V(r)}),(p,r)=>(l(),i("div",z,[o("section",J,[K,d(W,{dir:t.folder,class:"text-sm min-h-[360px]"},null,8,["dir"])]),d(S,{path:t.path,title:t.title,class:"max-w-3xl overflow-x-hidden grow"},null,8,["path","title"])]))}});export{Z as default};
