import{d as x,r as D,z as g,A as R,m as f,o as l,c as i,a as o,t as p,F as B,j as E,e as d,w as y,T as $,l as k,g as c,u as v,k as _,n as P,E as L,B as N,C as T,D as V,G as A}from"./97613667.js";import{A as I}from"./4098222d.js";import{D as S}from"./b649b323.js";const j={key:0,class:"relative select-none"},F={class:"font-bold"},U=["onClick"],z={class:""},G=o("span",{class:"inline-block w-2 h-1 mx-1 mb-[.2em] rounded-full bg-sky-500"},null,-1),W={key:0,class:"absolute inset-0 h-full overflow-hidden bg-gray-100 rounded-md shadow-inner dark:bg-gray-600"},q=x({__name:"RelatedDocs",props:{dir:{}},setup(C){const e=D(null),n=t=>{e.value=t},u=g();R(()=>u.fullPath,()=>{N(()=>{n(null)})});const r=t=>{const s=t.lastChild;c.set(t,{opacity:0}),c.set(s,{y:-32})},h=t=>{const s=t.lastChild;c.to(t,{opacity:1,duration:.3}),c.to(s,{y:0,duration:.3,ease:"power2.out"})},b=(t,s)=>{const m=t.lastChild;c.to(t,{opacity:0,duration:.2,delay:.1,onComplete:s}),c.to(m,{y:-32,duration:.3,ease:"power2.out"})};return(t,s)=>{const m=f("RouterLink"),w=f("RelatedDocs",!0);return t.dir?(l(),i("div",j,[o("div",F,p(t.dir.name),1),o("ul",null,[(l(!0),i(B,null,E(t.dir.children,a=>(l(),i("li",{key:a.name,class:"truncate hover:text-sky-500"},[a.type==="dir"?(l(),i("div",{key:0,class:"p-1 cursor-pointer",onClick:M=>n(a)},[o("span",z,[d(v(S),{class:"inline-block w-4 text-sky-500"})]),_(" "+p(a.name),1)],8,U)):(l(),P(m,{key:1,to:a.url,class:"block p-1"},{default:y(()=>[G,_(" "+p(a.name),1)]),_:2},1032,["to"]))]))),128))]),d($,{onBeforeEnter:r,onEnter:h,onLeave:b},{default:y(()=>[e.value?(l(),i("div",W,[o("div",{class:"py-1 text-xs font-bold cursor-pointer text-slate-400 hover:bg-sky-500",onClick:s[0]||(s[0]=a=>n(null))},[o("span",null,[d(v(L),{class:"inline-block w-6 h-6 rotate-180"})]),_(" "+p(t.dir.name),1)]),d(w,{dir:e.value,class:"h-[calc(100%-1.25rem)] mt-[-0.25rem] bg-gray-200 rounded-md scrollbar dark:bg-gray-700"},null,8,["dir"])])):k("",!0)]),_:1})])):k("",!0)}}}),H={class:"flex justify-center min-h-screen gap-8 mx-auto self-mode sm:px-4 md:px-8"},J={class:"sticky hidden max-h-screen top-16 md:block"},K=o("h2",{class:"py-1 font-bold"},"相关文档",-1),Y=x({__name:"ReadDoc",setup(C){const e=T({title:"",content:"",folder:null}),n=g();return V(async()=>{if(!n.fullPath.includes("/docs/")||n.fullPath=="/docs/catalog")return;const u=n.fullPath,r=decodeURIComponent(u);e.title=r.split("/").pop()||"";const h=await fetch(r+".md");e.content=await h.text(),e.folder=A(r)}),(u,r)=>(l(),i("div",H,[o("section",J,[K,d(q,{dir:e.folder,class:"text-sm min-h-[360px]"},null,8,["dir"])]),d(I,{article:e.content,title:e.title,class:"max-w-3xl overflow-x-hidden grow"},null,8,["article","title"])]))}});export{Y as default};
