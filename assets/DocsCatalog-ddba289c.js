import{_ as j,o as i,c as d,a as r,d as k,u as w,r as B,f as D,e as f,t as x,h as M,F as b,i as S,g as W,j as A,w as $,T as E,E as N,k as z,l as F,b as H,n as I}from"./index-fee6dfc1.js";import{g as s}from"./index-9e2476f3.js";const R={},Y={fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true"},L=r("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 12.75V12A2.25 2.25 0 014.5 9.75h15A2.25 2.25 0 0121.75 12v.75m-8.69-6.44l-2.12-2.12a1.5 1.5 0 00-1.061-.44H4.5A2.25 2.25 0 002.25 6v12a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9a2.25 2.25 0 00-2.25-2.25h-5.379a1.5 1.5 0 01-1.06-.44z"},null,-1),O=[L];function T(t,a){return i(),d("svg",Y,O)}const P=j(R,[["render",T]]);function q(){const t=["#f07c82","#ee3f4d","#de1c31","#ed556a","#f03752","#e77c8e","#ec9bad","#eeb8c3","#c08eaf","#806d9e","#525288","#61649f","#2b73af","#2376b7","#5698c3","#1772b4","#1781b5","#12aa9c","#45b787","#ffd111","#feba07","#fca106","#f26b1f","#f86b1d"];return t[~~(Math.random()*t.length)]}const G=["view-box"],J=["d"],K=k({__name:"RandomSvg",props:{viewBoxW:{type:Number,default:200},viewBoxH:{type:Number,default:200}},setup(t){const{viewBoxW:a,viewBoxH:m}=t,n=((u=a,l=m)=>{let o=[],h=~~(Math.random()*3)+2;for(let y=0;y<h;y++){const v=Math.floor(Math.random()*u),e=Math.floor(Math.random()*l),p=Math.floor(Math.random()*u),_=Math.floor(Math.random()*l),c=Math.floor(Math.random()*180),C=Math.floor(Math.random()*2),V=Math.floor(Math.random()*2);o.push(`M ${v} ${e} a ${p} ${_} ${c} ${C} ${V} ${v} ${e}`)}return o.join(" ")})();return(u,l)=>(i(),d("svg",{"view-box":`0 0 ${t.viewBoxW} ${t.viewBoxH}`,stroke:"current","stroke-width":"currentWidth",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round",stroke:"currentColor","stroke-width":"currentWidth",d:w(n)},null,8,J)],8,G))}}),Q={class:"p-4 text-2xl font-bold"},U={class:"flex flex-col p-2 text-xs text-right opacity-50"},X={class:"w-full max-h-[100%-2rem] px-4 my-4 text-sm basis-7/12 scrollbar"},Z=["onClick"],ee={class:"inline-block mr-1"},te={key:0,class:"absolute inset-0 flex h-full overflow-hidden bg-gray-100 rounded-lg dark:bg-gray-700"},oe={class:"inline-block w-2 text-xs tracking-tighter"},re=k({__name:"DirCard",props:{dir:{type:Object,required:!0}},setup(t){const a=q(),m={backgroundColor:a+"00"},g={borderColor:"#ffffff55",borderWidth:"3px"},n={color:a+"aa"},u={color:a+""},l={backgroundColor:a+"aa"},o=B(),h=e=>{s.set(e.firstElementChild,{x:"100%",opacity:0}),s.set(e.lastElementChild,{x:"100%"}),s.set(e,{opacity:0})},y=e=>{s.to(e.firstElementChild,{x:"0%",opacity:1,duration:.3,delay:.2,ease:"power2.out"}),s.to(e.lastElementChild,{x:"0%",duration:.3,ease:"power2.out"}),s.to(e,{opacity:1,duration:.4,ease:"power2.out"})},v=(e,p)=>{s.to(e.firstElementChild,{x:"-100%",duration:.1,ease:"power2.in"}),s.to(e.lastElementChild,{x:"-100%",duration:.3,delay:.1,ease:"power2.in"}),s.to(e,{duration:.4,opacity:0,ease:"power2.in",onComplete:p})};return(e,p)=>{const _=D("DirCard",!0);return i(),d("div",{class:"flex overflow-hidden rounded-lg shadow-lg glass",style:g},[r("div",{class:"relative flex flex-col justify-between basis-5/12",style:m},[f(K,{class:"absolute -z-[1] top-0 left-0 w-full h-full stroke-[.5em]",style:n}),r("h2",Q,x(t.dir.name),1),r("div",U,[r("p",null,x(t.dir.children.length)+" 份文件",1),r("p",null,"更新于 "+x(w(M)(t.dir.mtime).format("YY/MM/DD")),1),r("p",null,"创建于 "+x(w(M)(t.dir.birthtime).format("YY/MM/DD")),1)])]),r("ul",X,[(i(!0),d(b,null,S(t.dir.children,c=>(i(),d("li",{key:c.name,class:"p-2 truncate rounded-md cursor-pointer hover:bg-opacity-40 hover:bg-white",onClick:C=>c.type==="dir"?o.value=c:e.$router.push(c.url)},[r("div",ee,[c.children?(i(),W(w(P),{key:0,class:"inline-block w-4 align-text-top stroke-2",style:u})):(i(),d("span",{key:1,class:"inline-block w-2 h-[2px] mx-1 my-1 rounded-full",style:l}))]),A(" "+x(c.name),1)],8,Z))),128))]),f(E,{onBeforeEnter:h,onEnter:y,onLeave:v},{default:$(()=>[o.value?(i(),d("div",te,[r("div",{class:"w-6 h-full pt-2 text-red-300 hover:text-red-400 cursor-pointer [writing-mode:horizontal-rl] text-center",onClick:p[0]||(p[0]=c=>o.value=null)},[f(w(N),{class:"w-full rotate-180"}),r("span",oe,x(t.dir.name),1)]),f(E,null,{default:$(()=>[f(_,{dir:o.value,class:"flex-grow h-full"},null,8,["dir"])]),_:1})])):z("",!0)]),_:1})])}}}),se=k({__name:"DocsCatalog",setup(t){const a=[],m={name:"其他",children:[],type:"dir",mtime:Date.now(),birthtime:Date.now()};F.children.forEach(n=>{typeof n.children<"u"?a.push(n):m.children.push(n)}),a.push(m);const g=B(null);return H(()=>{var l;const n=(l=g.value)==null?void 0:l.children;if(!n)return;const u=n.length;for(let o=0;o<u;o++){const h=n[o];s.set(h,{opacity:0,y:20}),s.to(h,{opacity:1,y:0,duration:.4,delay:o*.1,ease:"power2.out"})}}),(n,u)=>{const l=D("RouterView");return i(),d(b,null,[r("div",{tag:"div",class:"grid grid-flow-row-dense grid-cols-1 gap-6 p-4 sm:grid-cols-2 lg:grid-cols-3 auto-rows-auto",ref_key:"Container",ref:g},[(i(),d(b,null,S(a,(o,h)=>f(re,{dir:o,key:h,class:I(["h-full",`row-span-${Math.ceil(o.children.length/6)}`])},null,8,["dir","class"])),64))],512),f(l)],64)}}});export{se as default};
