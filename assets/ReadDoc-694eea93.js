import{d as x,r as D,v as b,x as R,j as f,o as l,c as i,a as o,t as p,F as B,h as E,e as d,w as k,T as $,m as y,u as v,i as _,k as P,E as L,y as N,z as T,A as V,B as A}from"./index-566d9f9d.js";import{A as I}from"./AppDoc-71011d58.js";import{D as S}from"./DirIcon-5c6d9328.js";import{g as c}from"./index-9e2476f3.js";const F={key:0,class:"relative p-4 select-none"},U={class:"font-bold"},j=["onClick"],z={class:""},W=o("span",{class:"inline-block w-2 h-1 mx-1 mb-[.2em] rounded-full bg-sky-500"},null,-1),q={key:0,class:"absolute inset-0 h-full overflow-hidden bg-gray-100 rounded-md shadow-inner dark:bg-gray-600"},G=x({__name:"RelatedDocs",props:{dir:{}},setup(g){const t=D(null),n=e=>{t.value=e},u=b();R(()=>u.fullPath,()=>{N(()=>{n(null)})});const r=e=>{const s=e.lastChild;c.set(e,{opacity:0}),c.set(s,{y:-32})},h=e=>{const s=e.lastChild;c.to(e,{opacity:1,duration:.3}),c.to(s,{y:0,duration:.3,ease:"power2.out"})},C=(e,s)=>{const m=e.lastChild;c.to(e,{opacity:0,duration:.2,delay:.1,onComplete:s}),c.to(m,{y:-32,duration:.3,ease:"power2.out"})};return(e,s)=>{const m=f("RouterLink"),w=f("RelatedDocs",!0);return e.dir?(l(),i("div",F,[o("div",U,p(e.dir.name),1),o("ul",null,[(l(!0),i(B,null,E(e.dir.children,a=>(l(),i("li",{key:a.name,class:"truncate hover:text-sky-500"},[a.type==="dir"?(l(),i("div",{key:0,class:"p-1 cursor-pointer",onClick:M=>n(a)},[o("span",z,[d(v(S),{class:"inline-block w-4 text-sky-500"})]),_(" "+p(a.name),1)],8,j)):(l(),P(m,{key:1,to:a.url,class:"block p-1"},{default:k(()=>[W,_(" "+p(a.name),1)]),_:2},1032,["to"]))]))),128))]),d($,{onBeforeEnter:r,onEnter:h,onLeave:C},{default:k(()=>[t.value?(l(),i("div",q,[o("div",{class:"py-1 text-xs cursor-pointer hover:bg-sky-500",onClick:s[0]||(s[0]=a=>n(null))},[o("span",null,[d(v(L),{class:"inline-block w-6 h-6 rotate-180"})]),_(" "+p(e.dir.name),1)]),d(w,{dir:t.value,class:"h-[calc(100%-1.25rem)] mt-[-0.25rem] bg-gray-200 rounded-md scrollbar dark:bg-gray-700"},null,8,["dir"])])):y("",!0)]),_:1})])):y("",!0)}}}),H={class:"flex pt-[60px] min-h-screen sm:px-4 md:px-8 self-mode"},J={class:"hidden sticky top-[60px] max-h-screen basis-1/6 md:block"},K={class:"flex-grow overflow-hidden basis-5/6"},Z=x({__name:"ReadDoc",setup(g){const t=T({title:"",content:"",folder:null}),n=b();return V(async()=>{if(!n.fullPath.includes("/docs/")||n.fullPath=="/docs/catalog")return;const u=n.fullPath,r=decodeURIComponent(u);t.title=r.split("/").pop()||"";const h=await fetch(r+".md");t.content=await h.text(),t.folder=A(r)}),(u,r)=>(l(),i("div",H,[o("div",J,[d(G,{dir:t.folder,class:"text-sm min-h-[360px]"},null,8,["dir"])]),o("div",K,[d(I,{article:t.content,title:t.title,class:"p-4"},null,8,["article","title"])])]))}});export{Z as default};
